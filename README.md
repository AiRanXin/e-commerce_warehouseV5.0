# 电商数仓V5.0 :star:
项目分为数据采集、数仓开发、报表可视化3部分，B站有完整视频跟学[https://www.bilibili.com/video](https://www.bilibili.com/video/BV1nf4y1F7Bn/?spm_id_from=333.788.recommend_more_video.0&vd_source=02f6359a4ee1f733e11cc80f954bad40) ,花了一周左右跟完整个项目,写一下总结，后续有时间再更新具体项目细节

-----
- **项目需求**
  - 1、用户行为数据采集平台搭建
  - 2、业务数据采集平台搭建
  - 3、数据仓库维度建模
  - 4、分析，设备、会员、商品、地区、活动等电商核心主题，统计的报表指标近100个。完全对比中型公司.
  - 5、采用即席查询工具·随时进行指标分析
  - 6、对集群性能进行监控，发生异常需要报警。
  - 7、元数据管理
  - 8、质里监控


- **集群规划**
图
- **项目架构**

图
## 1.数据采集
### 1.1 用户行为日志采集
本项目收集和分析的用户行为信息主要有页面浏览记录、动作记录、曝光记录、启动记录和错误记录，格式为json，编写脚本来使用模拟器产生用户行为数据。
- 采集Flume
  - Source:TailDir Source
  - 拦截器：使用ETL拦截器以及提取日志的时间戳放在header中方面落盘，解决由于上报时间和网络抖动造成的数据飘逸问题
  - 选择器：multiplexing
  - Kafka Channel,省去了Sink，提高了效率

- Kafka
  -  浏览、点击、停留、曝光 的数据在一个文件夹里，留资、订单关联数据在另外一个文件夹里topic_log 和 topic_order_leads 对应这两个topic文件夹 3分区两副本

- 消费Flume
  - Kafka Source
  - File Channel
  - HDFS Sink
  - Flume拦截器的编写实现Interceptor 接口和Intercepter.Builder接口
- 用户行为日志采集流程

### 1.2 业务数据采集
电商数仓开发涉及34张表，以订单表、用户表、SKU商品表、活动表和优惠券表为中心，延伸出了优惠券领用表、支付流水表、活动订单表、订单详情表、订单状态表、商品评论表、编码字典表退单表、SPU商品表等。



## 2.数仓建模与开发
## 3.报表可视化
